<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Аутентификация и авторизация</title>
  <meta name="description" content="">
  <!--[if lte IE 8]><script src="/js/ie/html5shiv.js"></script><![endif]-->
  <link rel="canonical" href="http://localhost:4000/chapter011.html">
  <link rel="stylesheet" href="/css/main.css" />
  <!--[if lte IE 8]><link rel="stylesheet" href="/css/ie8.css" /><![endif]-->
  <!--[if lte IE 9]><link rel="stylesheet" href="/css/ie9.css" /><![endif]-->
  <link rel="alternate" type="application/rss+xml" title="Курс по системному анализу и архитектуре" href="http://localhost:4000/feed.xml">
</head>


  <body>

    <!-- Page Wrapper -->
    <div id="page-wrapper">

      <!-- Header -->
<header id="header">
  <h1><a href="/index.html">Курс по системному анализу и архитектуре</a></h1>
  <nav id="nav">
    <ul>
      <li class="special">
        <a href="#menu" class="menuToggle"><span>Меню</span></a>
        <div id="menu">
          <ul>
            <li><a href="index.html">Главная</a></li>
            
            
            <li><a href="/chapter000.html">О курсе</a></li>
            
            
            
            <li><a href="/chapter001.html">Содержание</a></li>
            
            
            
            <li><a href="/chapter002.html">Как работает интернет</a></li>
            
            
            
            <li><a href="/chapter003.html">Компоненты систем</a></li>
            
            
            
            <li><a href="/chapter004.html">Требования к системам</a></li>
            
            
            
            <li><a href="/chapter005.html">Архитектура</a></li>
            
            
            
            <li><a href="/chapter006.html">Базы данных</a></li>
            
            
            
            <li><a href="/chapter007.html">Структуры данных</a></li>
            
            
            
            <li><a href="/chapter008.html">Об интеграции систем</a></li>
            
            
            
            <li><a href="/chapter009.html">TO BE</a></li>
            
            
            
            <li><a href="/chapter010.html">CI/CD</a></li>
            
            
            
            <li><a href="/chapter011.html">Аутентификация и авторизация</a></li>
            
            
            
            <li><a href="/chapter012.html">TO BE</a></li>
            
            
            
            <li><a href="/chapter013.html">TO BE</a></li>
            
            
            
            <li><a href="/contacts.html">Контакты</a></li>
            
            
            
            
            
            <li><a href="/feedback.html">Feedback</a></li>
            
            
            
            
            
            
            
            
            
            
          </ul>
        </div>
      </li>
    </ul>
  </nav>
</header>


      <article id="main">

  <header>
    <h2>Аутентификация и авторизация</h2>
  </header>

  <section class="wrapper style5">
    <div class="inner">
      <section>
	<div>
		<h3>OAuth 2.0 и OpenID Connect (OIDC)</h3>
		<div>
			<h4>OAuth 2.0</h4>
			<p>OAuth 2.0, что означает «Открытая авторизация», представляет собой стандарт, предназначенный для предоставления согласованного доступа к ресурсам от имени пользователя без передачи учетных данных пользователя. OAuth 2.0 — это протокол авторизации, а не протокол аутентификации, он разработан в первую очередь как средство предоставления доступа к набору ресурсов, например, к удаленным API или данным пользователя.</p>
			<h5>Концепции</h5>
			<p>Протокол OAuth 2.0 определяет следующие объекты:</p>
			<ul>
				<li><strong>Владелец ресурса</strong>: пользователь или система, которая владеет защищенными ресурсами и может предоставлять к ним доступ.</li>
				<li><strong>Клиент</strong>: Клиент — это система, которой требуется доступ к защищенным ресурсам.</li>
				<li><strong>Сервер авторизации</strong>: этот сервер получает запросы от Клиента на токены доступа и выдает их после успешной аутентификации и согласия Владельца ресурса.</li>
				<li><strong>Сервер ресурсов</strong>: сервер, который защищает ресурсы пользователя и получает запросы на доступ от Клиента. Он принимает и проверяет токен доступа от клиента и возвращает соответствующие ресурсы.</li>
				<li><strong>Области действия</strong>: они используются для точного указания причины, по которой может быть предоставлен доступ к ресурсам. Допустимые значения области и ресурсы, к которым они относятся, зависят от сервера ресурсов.</li>
				<li><strong>Токен доступа</strong>: часть данных, представляющая авторизацию на доступ к ресурсам от имени конечного пользователя.</li>
			</ul>
			<h5>Как работает OAuth 2.0?</h5>
			<p>Давайте узнаем, как работает OAuth 2.0:</p>
			<ol>
				<li>Клиент запрашивает авторизацию у сервера авторизации, предоставляя идентификатор клиента и секрет в качестве идентификации. Он также предоставляет области действия и URI конечной точки для отправки маркера доступа или кода авторизации.</li>
				<li>Сервер авторизации аутентифицирует клиента и проверяет, разрешены ли запрошенные области.</li>
				<li>Владелец ресурса взаимодействует с сервером авторизации для предоставления доступа.</li>
				<li>Сервер авторизации перенаправляет обратно клиенту код авторизации или токен доступа, в зависимости от типа гранта. Также может быть возвращен Refresh Token.</li>
				<li>С помощью токена доступа клиент может запросить доступ к ресурсу у сервера ресурсов.</li>
			</ol>
			<h5>Недостатки</h5>
			<p>Вот наиболее распространенные недостатки OAuth 2.0:</p>
			<ul>
				<li>Отсутствуют встроенные функции безопасности.</li>
				<li>Нет стандартной реализации.</li>
				<li>Нет общего набора прицелов.</li>
			</ul>
		</div>
		<div>
			<h4>Подключиться к OpenID</h4>
			<p>OAuth 2.0 предназначен только для <em>авторизации</em>, для предоставления доступа к данным и функциям из одного приложения в другое. OpenID Connect Connect (OIDC) — это тонкий слой, который находится поверх OAuth 2.0 и добавляет информацию о входе в систему и профиле пользователя, вошедшего в систему.</p>
			<p>Когда сервер авторизации поддерживает OIDC, его иногда называют поставщиком удостоверений (IdP), поскольку он предоставляет информацию о владельце ресурса обратно клиенту. OpenID Connect является относительно новым, что приводит к более низкому внедрению и внедрению в отрасли лучших практик по сравнению с OAuth.</p>
			<h5>Концепции</h5>
			<p>Протокол OpenID Connect (OIDC) определяет следующие сущности:</p>
			<ul>
				<li><strong>Надежная сторона</strong>: текущее приложение.</li>
				<li><strong>Поставщик OpenID</strong>: по сути, это промежуточная служба, предоставляющая одноразовый код доверяющей стороне.</li>
				<li><strong>Конечная точка токена</strong>: веб-сервер, который принимает одноразовый код (OTC) и предоставляет код доступа, действительный в течение часа. Основное различие между OIDC и OAuth 2.0 заключается в том, что токен предоставляется с использованием JSON Web Token (JWT).</li>
				<li><strong>Конечная точка UserInfo</strong>: Проверяющая сторона связывается с этой конечной точкой, предоставляя безопасный токен и получая информацию о конечном пользователе.</li>
			</ul>
			<p>И OAuth 2.0, и OIDC просты в реализации и основаны на JSON, который поддерживается большинством веб-приложений и мобильных приложений. Однако спецификация OpenID Connect (OIDC) более строгая, чем спецификация базового OAuth.</p>
		</div>
	</div>
	<div>
		<h3>Единый вход (SSO)</h3>
		<p>Единый вход (SSO) — это процесс проверки подлинности, при котором пользователю предоставляется доступ к нескольким приложениям или веб-сайтам с использованием только одного набора учетных данных для входа. Это избавляет пользователя от необходимости отдельно входить в разные приложения.</p>
		<p>Учетные данные пользователя и другая идентифицирующая информация хранятся и управляются централизованной системой, которая называется Identity Provider (IdP). Identity Provider — это надежная система, обеспечивающая доступ к другим веб-сайтам и приложениям.</p>
		<p>Системы аутентификации на основе единого входа (SSO) обычно используются в корпоративных средах, где сотрудникам требуется доступ к нескольким приложениям их организаций.</p>
		<div>
			<h4>Компоненты</h4>
			<p>Давайте обсудим некоторые ключевые компоненты единого входа (SSO).</p>
			<h5>Поставщик удостоверений (IdP)</h5>
			<p>Информация об удостоверении пользователя хранится и управляется централизованной системой, называемой поставщиком удостоверений (IdP). Поставщик удостоверений аутентифицирует пользователя и предоставляет доступ поставщику услуг.</p>
			<p>Поставщик удостоверений может напрямую аутентифицировать пользователя, проверив имя пользователя и пароль или проверив утверждение об удостоверении пользователя, представленное отдельным поставщиком удостоверений. Поставщик удостоверений занимается управлением идентификаторами пользователей, чтобы освободить поставщика услуг от этой ответственности.</p>
			<h5>Поставщик услуг</h5>
			<p>Поставщик услуг предоставляет услуги конечному пользователю. Они полагаются на поставщиков удостоверений для подтверждения личности пользователя, и обычно некоторые атрибуты пользователя управляются поставщиком удостоверений. Поставщики услуг также могут поддерживать локальную учетную запись для пользователя вместе с атрибутами, уникальными для их службы.</p>
			<h5>Брокер идентификации</h5>
			<p>Брокер удостоверений действует как посредник, который соединяет несколько поставщиков услуг с различными поставщиками удостоверений. Используя Identity Broker, мы можем выполнять единый вход в любое приложение без проблем с протоколом, которому оно следует.</p>
			<div>
				<h4>SAML</h4>
				<p>Язык разметки утверждений безопасности — это открытый стандарт, который позволяет клиентам обмениваться информацией о безопасности, касающейся удостоверений, аутентификации и разрешений, в разных системах. SAML реализован со стандартом Extensible Markup Language (XML) для обмена данными.</p>
				<p>SAML специально обеспечивает федерацию удостоверений, позволяя поставщикам удостоверений (IdP) беспрепятственно и безопасно передавать аутентифицированные удостоверения и их атрибуты поставщикам услуг.</p>
			</div>
			<div>
				<h4>Как работает система единого входа?</h4>
				<p>Теперь давайте обсудим, как работает единый вход:</p>
				<ol>
					<li>Пользователь запрашивает ресурс из желаемого приложения.</li>
					<li>Приложение перенаправляет пользователя к поставщику удостоверений (IdP) для аутентификации.</li>
					<li>Пользователь входит в систему со своими учетными данными (обычно это имя пользователя и пароль).</li>
					<li>Поставщик удостоверений (IdP) отправляет ответ единого входа обратно в клиентское приложение.</li>
					<li>Приложение предоставляет доступ пользователю.</li>
				</ol>
			</div>
			<div>
				<h4>SAML против OAuth 2.0 и OpenID Connect (OIDC)</h4>
				<p>Существует много различий между SAML, OAuth и OIDC. SAML использует XML для передачи сообщений, а OAuth и OIDC используют JSON. OAuth упрощает работу, а SAML ориентирован на корпоративную безопасность.</p>
				<p>OAuth и OIDC широко используют связь RESTful, поэтому мобильные и современные веб-приложения считают OAuth и OIDC более удобными для пользователя. SAML, с другой стороны, отбрасывает сеансовый файл cookie в браузере, который позволяет пользователю получить доступ к определенным веб-страницам. Это отлично подходит для краткосрочных рабочих нагрузок.</p>
				<p>OIDC удобен для разработчиков и проще в реализации, что расширяет варианты использования, для которых он может быть реализован. Его можно довольно быстро реализовать с нуля с помощью свободно доступных библиотек на всех распространенных языках программирования. SAML может быть сложным в установке и обслуживании, с чем хорошо справляются только компании масштаба предприятия.</p>
				<p>OpenID Connect — это, по сути, слой поверх инфраструктуры OAuth. Следовательно, он может предложить встроенный уровень разрешений, который просит пользователя согласиться с тем, к чему может получить доступ поставщик услуг. Хотя SAML также может разрешать поток согласия, он достигает этого за счет жесткого кодирования, выполняемого разработчиком, а не как часть его протокола.</p>
				<p><em>Оба этих протокола аутентификации хороши в том, что они делают. Как всегда, многое зависит от наших конкретных вариантов использования и целевой аудитории.</em></p>
			</div>
			<div>
				<h4>Преимущества</h4>
				<p>Ниже приведены преимущества использования единого входа:</p>
				<ul>
					<li>Простота использования, так как пользователям нужно запомнить только один набор учетных данных.</li>
					<li>Простота доступа без необходимости проходить длительный процесс авторизации.</li>
					<li>Принудительная безопасность и соответствие требованиям для защиты конфиденциальных данных.</li>
					<li>Упрощение управления за счет снижения затрат на ИТ-поддержку и времени на администрирование.</li>
				</ul>
			</div>
			<div>
				<h4>Недостатки</h4>
				<p>Вот некоторые недостатки единого входа:</p>
				<ul>
					<li>Уязвимость с одним паролем: если основной пароль системы единого входа будет скомпрометирован, все поддерживаемые приложения будут скомпрометированы.</li>
					<li>Процесс аутентификации с использованием единого входа медленнее, чем традиционная аутентификация, поскольку каждое приложение должно запрашивать поставщика SSO для проверки.</li>
				</ul>
			</div>
			<div>
				<h4>Примеры</h4>
				<p>Вот некоторые часто используемые поставщики удостоверений (IdP):</p>
				<ul>
					<li><a href="https://www.okta.com">Окта</a><br />
						— <a href="https://cloud.google.com/architecture/identity/single-sign-on">Google</a></li>
					<li><a href="https://auth0.com">Auth0</a></li>
					<li><a href="https://www.onelogin.com">OneLogin</a></li>
				</ul>
			</div>
		</div>
		<div>
			<h3>SSL, TLS, mTLS</h3>
			<p>Давайте кратко обсудим некоторые важные протоколы безопасности связи, такие как SSL, TLS и mTLS. Я бы сказал, что с точки зрения проектирования системы в целом эта тема не очень важна, но о ней все равно полезно знать.</p>
			<div>
				<h4>SSL</h4>
				<p>SSL расшифровывается как Secure Sockets Layer и относится к протоколу для шифрования и защиты коммуникаций, которые происходят в Интернете. Впервые он был разработан в 1995 году, но с тех пор устарел в пользу TLS (Transport Layer Security).</p>
				<h5>Почему он называется сертификатом SSL, если он устарел?</h5>
				<p>Большинство основных поставщиков сертификатов по-прежнему называют сертификаты SSL-сертификатами, поэтому соглашение об именах сохраняется.</p>
				<h5>Почему SSL был так важен?</h5>
				<p>Первоначально данные в Интернете передавались в виде открытого текста, который любой мог прочитать, если перехватил сообщение. SSL был создан, чтобы решить эту проблему и защитить конфиденциальность пользователей. Шифруя любые данные, которые передаются между пользователем и веб-сервером, SSL также останавливает определенные виды кибератак, не позволяя злоумышленникам подделывать передаваемые данные.</p>
			</div>
			<div>
				<h4>TLS</h4>
				<p>Безопасность транспортного уровня, или TLS, — это широко распространенный протокол безопасности, предназначенный для обеспечения конфиденциальности и защиты данных при обмене данными через Интернет. TLS произошел от предыдущего протокола шифрования под названием Secure Sockets Layer (SSL). Основной вариант использования TLS — шифрование связи между веб-приложениями и серверами.</p>
				<p>Протокол TLS состоит из трех основных компонентов:</p>
				<ul>
					<li><strong>Шифрование</strong>: скрывает данные, передаваемые от третьих лиц.</li>
					<li><strong>Аутентификация</strong>: гарантирует, что стороны, обменивающиеся информацией, являются теми, за кого себя выдают.</li>
					<li><strong>Целостность</strong>: проверяет, что данные не были подделаны или изменены.</li>
				</ul>
			</div>
			<div>
				<h4>mTLS</h4>
				<p>Mutual TLS или mTLS — это метод взаимной аутентификации. mTLS гарантирует, что стороны на каждом конце сетевого соединения являются теми, за кого они себя выдают, проверяя, что они оба имеют правильный закрытый ключ. Информация в соответствующих сертификатах TLS обеспечивает дополнительную проверку.</p>
				<h5>Зачем использовать mTLS?</h5>
				<p>mTLS помогает обеспечить безопасность и надежность трафика в обоих направлениях между клиентом и сервером. Это обеспечивает дополнительный уровень безопасности для пользователей, которые входят в сеть или приложения организации. Он также проверяет соединения с клиентскими устройствами, которые не следуют процессу входа в систему, например с устройствами Интернета вещей (IoT).</p>
				<p>В настоящее время mTLS обычно используется микросервисами или распределенными системами в <a href="https://en.wikipedia.org/wiki/Zero_trust_security_model">модели безопасности с нулевым доверием</a> для проверки друг друга.</p>
			</div>
		</div>
</section>


    </div>
  </section>

</article>


      <!-- Footer -->
<footer id="footer">
  <ul class="icons">
    
    
    
    <li><a target="_blank" href="https://linkedin.com/in/<username>" class="icon fa-linkedin-square"
           ><span class="label">linkedin-square</span></a></li>
    
    
    
    
    
    <li><a target="_blank" href="/contact/" class="icon fa-envelope-o"
           ><span class="label">E-mail</span></a></li>
    
    
    
    
    
    <li><a target="_blank" href="leonov_d_a" class="icon fa-telegram"
           ><span class="label">telegram</span></a></li>
    
    
    
  </ul>
  <ul class="copyright">
    <li>&copy; 
    
      
      
    
    2023
    Denis Leonov</li>
    <li>Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a></li>
    <li>Built with: <a href="http://jekyllrb.com" target="_blank">Jekyll</a></li>
  </ul>
</footer>


      <!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/jquery.scrolly.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]><script src="/js/ie/respond.min.js"></script><![endif]-->
<script src="/js/main.js"></script>


    </div>

  </body>

</html>